// https://d3js.org v5.7.0 Copyright 2018 Mike Bostock
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function r(t){var r;return 1===t.length&&(r=t,t=function(t,e){return n(r(t),e)}),{left:function(n,r,e,o){for(null==e&&(e=0),null==o&&(o=n.length);e<o;){var u=e+o>>>1;t(n[u],r)<0?e=u+1:o=u}return e},right:function(n,r,e,o){for(null==e&&(e=0),null==o&&(o=n.length);e<o;){var u=e+o>>>1;t(n[u],r)>0?o=u:e=u+1}return e}}}var e=r(n),o=e.right,u=e.left;function i(t){return 0|t.length}function f(t){return!(t>0)}function l(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function a(t,n){let r,e=0,o=0,u=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(u+=(r=n-o)*(n-(o+=r/++e)));else{let i=-1;for(let f of t)null!=(f=n(f,++i,t))&&(f=+f)>=f&&(u+=(r=f-o)*(f-(o+=r/++e)))}if(e>1)return u/(e-1)}function c(t,n){const r=a(t,n);return r?Math.sqrt(r):r}function s(t,n){let r,e;if(void 0===n)for(let n of t)null!=n&&n>=n&&(void 0===r?r=e=n:(r>n&&(r=n),e<n&&(e=n)));else{let o=-1;for(let u of t)null!=(u=n(u,++o,t))&&u>=u&&(void 0===r?r=e=u:(r>u&&(r=u),e<u&&(e=u)))}return[r,e]}function h(t){return t}function v(t,n,...r){return function t(e,o){if(o>=r.length)return n(e);const u=function(t,n){const r=new Map;let e=-1;for(const o of t){const u=n(o,++e,t),i=r.get(u);i?i.push(o):r.set(u,[o])}return r}(e,r[o]);return new Map(Array.from(u,([n,r])=>[n,t(r,o+1)]))}(t,0)}var p=Array.prototype,y=p.slice,d=p.map;function g(t){return function(){return t}}function M(t,n,r){t=+t,n=+n,r=(o=arguments.length)<2?(n=t,t=0,1):o<3?1:+r;for(var e=-1,o=0|Math.max(0,Math.ceil((n-t)/r)),u=new Array(o);++e<o;)u[e]=t+e*r;return u}var m=Math.sqrt(50),A=Math.sqrt(10),w=Math.sqrt(2);function k(t,n,r){var e=(n-t)/Math.max(0,r),o=Math.floor(Math.log(e)/Math.LN10),u=e/Math.pow(10,o);return o>=0?(u>=m?10:u>=A?5:u>=w?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(u>=m?10:u>=A?5:u>=w?2:1)}function x(t,n,r){var e=Math.abs(n-t)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),u=e/o;return u>=m?o*=10:u>=A?o*=5:u>=w&&(o*=2),n<t?-o:o}function $(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function b(t){return null===t?NaN:+t}function N(t,n,r=b){if(e=t.length){if((n=+n)<=0||e<2)return+r(t[0],0,t);if(n>=1)return+r(t[e-1],e-1,t);var e,o=(e-1)*n,u=Math.floor(o),i=+r(t[u],u,t);return i+(+r(t[u+1],u+1,t)-i)*(o-u)}}function q(t,r,e=0,o=t.length-1,u=n){for(;o>e;){if(o-e>600){const n=o-e+1,i=r-e+1,f=Math.log(n),l=.5*Math.exp(2*f/3),a=.5*Math.sqrt(f*l*(n-l)/n)*(i-n/2<0?-1:1);q(t,r,Math.max(e,Math.floor(r-i*l/n+a)),Math.min(o,Math.floor(r+(n-i)*l/n+a)),u)}const n=t[r];let i=e,f=o;for(j(t,e,r),u(t[o],n)>0&&j(t,e,o);i<f;){for(j(t,i,f),++i,--f;u(t[i],n)<0;)++i;for(;u(t[f],n)>0;)--f}0===u(t[e],n)?j(t,e,f):j(t,++f,o),f<=r&&(e=f+1),r<=f&&(o=f-1)}return t}function j(t,n,r){const e=t[n];t[n]=t[r],t[r]=e}function z(t,n){let r;if(void 0===n)for(let n of t)null!=n&&n>=n&&(void 0===r||r>n)&&(r=n);else{let e=-1;for(let o of t)null!=(o=n(o,++e,t))&&o>=o&&(void 0===r||r>o)&&(r=o)}return r}function L(t){if(!(o=t.length))return[];for(var n=-1,r=z(t,F),e=new Array(r);++n<r;)for(var o,u=-1,i=e[n]=new Array(o);++u<o;)i[u]=t[u][n];return e}function F(t){return t.length}function S(){}function _(t,n){var r=new S;if(t instanceof S)t.each(function(t,n){r.set(n,t)});else if(Array.isArray(t)){var e,o=-1,u=t.length;if(null==n)for(;++o<u;)r.set(o,t[o]);else for(;++o<u;)r.set(n(e=t[o],o,t),e)}else if(t)for(var i in t)r.set(i,t[i]);return r}function D(){return{}}function I(t,n,r){t[n]=r}function K(){return _()}function O(t,n,r){t.set(n,r)}function P(){}S.prototype=_.prototype={constructor:S,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var R=_.prototype;function V(t,n){var r=new P;if(t instanceof P)t.each(function(t){r.add(t)});else if(t){var e=-1,o=t.length;if(null==n)for(;++e<o;)r.add(t[e]);else for(;++e<o;)r.add(n(t[e],e,t))}return r}P.prototype=V.prototype={constructor:P,has:R.has,add:function(t){return this["$"+(t+="")]=t,this},remove:R.remove,clear:R.clear,values:R.keys,size:R.size,empty:R.empty,each:R.each},t.version="5.7.0",t.bisect=o,t.bisectRight=o,t.bisectLeft=u,t.ascending=n,t.bisector=r,t.cross=function(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),r=(t=t.map(l)).map(i),e=t.length-1,o=new Array(e+1).fill(0),u=[];if(e<0||r.some(f))return u;for(;;){u.push(o.map((n,r)=>t[r][n]));let i=e;for(;++o[i]===r[i];){if(0===i)return n?u.map(n):u;o[i--]=0}}},t.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},t.deviation=c,t.extent=s,t.group=function(t,...n){return v(t,h,...n)},t.histogram=function(){var t=h,n=s,r=$;function e(e){var u,i,f=e.length,l=Array.from(e,t),a=n(l),c=a[0],s=a[1],h=r(l,c,s);Array.isArray(h)||(h=x(c,s,h),h=M(Math.ceil(c/h)*h,s,h));for(var v=h.length;h[0]<=c;)h.shift(),--v;for(;h[v-1]>s;)h.pop(),--v;var p,y=new Array(v+1);for(u=0;u<=v;++u)(p=y[u]=[]).x0=u>0?h[u-1]:c,p.x1=u<v?h[u]:s;for(u=0;u<f;++u)c<=(i=l[u])&&i<=s&&y[o(h,i,0,v)].push(e[u]);return y}return e.value=function(n){return arguments.length?(t="function"==typeof n?n:g(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:g([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:Array.isArray(t)?g(y.call(t)):g(t),e):r},e},t.thresholdFreedmanDiaconis=function(t,r,e){return t=d.call(t,b).sort(n),Math.ceil((e-r)/(2*(N(t,.75)-N(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,n,r){return Math.ceil((r-n)/(3.5*c(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=$,t.max=function(t,n){let r;if(void 0===n)for(let n of t)null!=n&&n>=n&&(void 0===r||r<n)&&(r=n);else{let e=-1;for(let o of t)null!=(o=n(o,++e,t))&&o>=o&&(void 0===r||r<o)&&(r=o)}return r},t.mean=function(t,n){let r=0,e=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++r,e+=n);else{let o=-1;for(let u of t)null!=(u=n(u,++o,t))&&(u=+u)>=u&&(++r,e+=u)}if(r)return e/r},t.median=function(t,n){if(!(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let r=-1;for(let e of t)null!=(e=n(e,++r,t))&&(e=+e)>=e&&(yield e)}}(t,n))).length)return;const r=t.length,e=r>>1;return q(t,e-1,0),0==(1&r)&&q(t,e,e),N(t,.5)},t.merge=function(t){return Array.from(function*(t){for(const n of t)yield*n}(t))},t.min=z,t.pairs=function(t,n=function(t,n){return[t,n]}){const r=[];let e,o=!1;for(const u of t)o&&r.push(n(e,u)),e=u,o=!0;return r},t.permute=function(t,n){for(var r=n.length,e=new Array(r);r--;)e[r]=t[n[r]];return e},t.quantile=N,t.quickselect=q,t.range=M,t.rollup=v,t.scan=function(t,r=n){let e,o,u=-1;for(const n of t)++u,(void 0===o?0===r(n,n):r(n,e)<0)&&(e=n,o=u);return o},t.shuffle=function(t,n=0,r=t.length){for(var e,o,u=r-(n=+n);u;)o=Math.random()*u--|0,e=t[u+n],t[u+n]=t[o+n],t[o+n]=e;return t},t.sum=function(t,n){let r=0;if(void 0===n)for(let n of t)(n=+n)&&(r+=n);else{let e=-1;for(let o of t)(o=+n(o,++e,t))&&(r+=o)}return r},t.ticks=function(t,n,r){var e,o,u,i,f=-1;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((e=n<t)&&(o=t,t=n,n=o),0===(i=k(t,n,r))||!isFinite(i))return[];if(i>0)for(t=Math.ceil(t/i),n=Math.floor(n/i),u=new Array(o=Math.ceil(n-t+1));++f<o;)u[f]=(t+f)*i;else for(t=Math.floor(t*i),n=Math.ceil(n*i),u=new Array(o=Math.ceil(t-n+1));++f<o;)u[f]=(t-f)/i;return e&&u.reverse(),u},t.tickIncrement=k,t.tickStep=x,t.transpose=L,t.variance=a,t.zip=function(){return L(arguments)},t.nest=function(){var t,n,r,e=[],o=[];function u(r,o,i,f){if(o>=e.length)return null!=t&&r.sort(t),null!=n?n(r):r;for(var l,a,c,s=-1,h=r.length,v=e[o++],p=_(),y=i();++s<h;)(c=p.get(l=v(a=r[s])+""))?c.push(a):p.set(l,[a]);return p.each(function(t,n){f(y,n,u(t,o,i,f))}),y}return r={object:function(t){return u(t,0,D,I)},map:function(t){return u(t,0,K,O)},entries:function(t){return function t(r,u){if(++u>e.length)return r;var i,f=o[u-1];return null!=n&&u>=e.length?i=r.entries():(i=[],r.each(function(n,r){i.push({key:r,values:t(n,u)})})),null!=f?i.sort(function(t,n){return f(t.key,n.key)}):i}(u(t,0,K,O),0)},key:function(t){return e.push(t),r},sortKeys:function(t){return o[e.length-1]=t,r},sortValues:function(n){return t=n,r},rollup:function(t){return n=t,r}}},t.set=V,t.map=_,t.keys=function(t){var n=[];for(var r in t)n.push(r);return n},t.values=function(t){var n=[];for(var r in t)n.push(t[r]);return n},t.entries=function(t){var n=[];for(var r in t)n.push({key:r,value:t[r]});return n},Object.defineProperty(t,"__esModule",{value:!0})});
